{% extends 'base.html.twig' %}

{% block body %}
    
<div class="row">
    <div class="col-lg-12">
        {% for date, activities in activitiesByDates %}
            <h3>{{ date | date('D d M Y')}} 
            <div class="btn-group pull-right">
             {% for tag in tags %}
                <button title="{{ tag.name }}" style="{% if(tag.color) %}color: white; border-color: {{ tag.color }}; background: {{ tag.color }}{% endif %}" class="btn btn-sm btn-default">{% if(tag.icon) %}<span class="glyphicon glyphicon-{{ tag.icon }}"></span> {% endif %}{{ tag.name }}</button>
            {% endfor %}
            </div>
            </h3>
            <div class="row">
            <div class="col-lg-12">
            <div style="border-top: 1px solid #e8e8e8;">
                {% set i = 0 %}
                {% for activity in activities %}
                    <div style="{% if(i % 2) %}background-color: #f5f5f5;{% endif %}border-bottom: 1px solid #e8e8e8;" style="padding-top: 0; padding-bottom: 0;">
                            <div style="width: 130px; padding-right: 0; padding-left:0;" class="col-xs-2 text-left text-muted">
                            <div class="btn-group">
                                {% for i in 0..(3 - activity.tags | length) %}
                                <button style="width: 32px; opacity: 0.05" class="btn btn-sm btn-default"><span class="glyphicon glyphicon-plus"></span></button>
                                {% endfor %}
                                {% for tag in activity.getTagsReverse() %}
                                <button title="{{ tag.name }}" style="width: 32px;border-color: #fff;{% if(tag.color) %}color: white; border-color: {{ tag.color }}; background: {{ tag.color }}{% endif %}" class="btn btn-sm btn-default">{% if(tag.icon) %}<span class="glyphicon glyphicon-{{ tag.icon }}"></span> {% endif %}{% if(not tag.icon) %}{{ tag.name | slice(0, 1) }}{% endif %}</button>
                                {% endfor %}
                            </div>
                            </div>
                            <div style="width: 0; padding-top: 4px; padding-bottom: 3px; padding-right: 30px; " class="col-xs-1 text-left text-muted">
                               <span>{{ activity.executedAt | date('H') }}</span>&nbsp;<small>h</small>
                            </div>
                            <div class="col-xs-10" style="padding-top: 4px; padding-bottom: 3px;">
                            <span>{{ activity.title }}</span>
                            <small class="text-muted hidden" style="opacity: 0.7; padding-bottom: 0;">
                            {% for attribute in activity.getAttributes() %}
                                {{ attribute.value }},
                            {% endfor %}
                            </small>
                            </div>
                            
                            <div class="clearfix"></div>
                    </div>
                {% set i = i + 1 %}
                {% endfor %}
            </div>
            </div>
            <div class="col-lg-2">

            </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
